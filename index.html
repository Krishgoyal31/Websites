<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Beautiful Jaanu üíï</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(45deg, #ff9a9e, #fecfef, #ffeaa7, #fd79a8);
            background-size: 400% 400%;
            animation: gradientShift 10s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 0%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #ff69b4, #ff1493, #e91e63);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 1s ease;
        }

        .loading-heart {
            font-size: 4em;
            animation: heartbeat 1s ease-in-out infinite;
            margin-bottom: 20px;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        .loading-text {
            color: white;
            font-size: 1.5em;
            animation: fadeInOut 2s ease-in-out infinite;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .page {
            display: none;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .page.active {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* Enhanced floating elements */
        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .float-item {
            position: absolute;
            animation: floatUp 8s linear infinite;
            opacity: 0;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10%, 90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .content-box {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 50px;
            box-shadow: 0 20px 60px rgba(255, 105, 180, 0.4);
            max-width: 700px;
            margin: 20px;
            border: 3px solid rgba(255, 192, 203, 0.6);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .content-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 70px rgba(255, 105, 180, 0.5);
        }

        .content-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
            100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        }

        h1 {
            color: #d63384;
            font-size: 3em;
            margin-bottom: 30px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 3px 3px 6px rgba(0,0,0,0.2), 0 0 20px rgba(255, 105, 180, 0.5); }
            to { text-shadow: 3px 3px 6px rgba(0,0,0,0.2), 0 0 30px rgba(255, 105, 180, 0.8); }
        }

        h2 {
            color: #e91e63;
            font-size: 2.2em;
            margin-bottom: 25px;
        }

        .love-note {
            font-size: 1.3em;
            line-height: 1.8;
            color: #8e4574;
            margin-bottom: 40px;
            font-style: italic;
            position: relative;
        }

        .typewriter {
            overflow: hidden;
            border-right: 3px solid #ff69b4;
            white-space: nowrap;
            animation: typing 4s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #ff69b4; }
        }

        .btn {
            background: linear-gradient(45deg, #ff69b4, #ff1493, #e91e63);
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(255, 20, 147, 0.5);
            margin: 15px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 20, 147, 0.7);
        }

        /* Enhanced Memory Game */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 90px);
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
        }

        .memory-card {
            width: 90px;
            height: 90px;
            background: linear-gradient(45deg, #ff9a9e, #fecfef);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 35px;
            transition: all 0.4s ease;
            border: 3px solid #ff69b4;
            position: relative;
            transform-style: preserve-3d;
        }

        .memory-card:hover {
            transform: scale(1.1) rotateY(10deg);
        }

        .memory-card.flipped {
            transform: rotateY(180deg);
            background: linear-gradient(45deg, #fff, #f8f9fa);
        }

        .memory-card.matched {
            background: linear-gradient(45deg, #98fb98, #90ee90);
            pointer-events: none;
            animation: matchPulse 0.6s ease;
        }

        @keyframes matchPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .game-stats {
            margin: 25px 0;
            font-size: 1.3em;
            color: #d63384;
            font-weight: bold;
        }

        /* Enhanced Proposal Section */
        .proposal-buttons {
            margin: 40px 0;
        }

        .no-btn {
            position: relative;
            transition: all 0.3s ease;
        }

        .no-btn:hover {
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .sparkle {
            display: inline-block;
            animation: sparkleRotate 2s ease-in-out infinite;
        }

        @keyframes sparkleRotate {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.3) rotate(90deg); }
            50% { transform: scale(1) rotate(180deg); }
            75% { transform: scale(1.3) rotate(270deg); }
        }

        /* Photo Gallery */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .photo-placeholder {
            aspect-ratio: 1;
            background: linear-gradient(45deg, #ff9a9e, #fecfef);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            color: white;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .photo-placeholder:hover {
            transform: scale(1.05) rotate(5deg);
        }

        /* Timeline */
        .timeline {
            position: relative;
            margin: 40px 0;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .timeline-icon {
            font-size: 2em;
            margin-right: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Music Note Animation */
        .music-note {
            position: absolute;
            font-size: 24px;
            color: #ff69b4;
            animation: musicFloat 4s ease-in-out infinite;
        }

        @keyframes musicFloat {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.7;
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
                opacity: 1;
            }
        }

        /* Celebration Effects */
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        .firework {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            animation: firework 1s ease-out forwards;
        }

        @keyframes firework {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(20);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .content-box {
                padding: 30px;
                margin: 10px;
            }
            h1 { font-size: 2.2em; }
            .memory-grid {
                grid-template-columns: repeat(4, 70px);
            }
            .memory-card {
                width: 70px;
                height: 70px;
                font-size: 28px;
            }
            .photo-gallery {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Page-specific styles */
        .page1-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .page2-bg {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .page3-bg {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .rotating-text {
            animation: rotateText 3s ease-in-out infinite;
        }

        @keyframes rotateText {
            0%, 100% { transform: rotateY(0deg); }
            50% { transform: rotateY(360deg); }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-heart">üíñ</div>
        <div class="loading-text">Loading something special for Jaanu...</div>
    </div>

    <!-- Floating Elements Background -->
    <div class="floating-elements" id="floatingElements"></div>

    <!-- Page 1: Enhanced Love Note with Timeline -->
    <div class="page active" id="page1">
        <div class="content-box">
            <h1 class="typewriter">My Precious Jaanu <span class="sparkle">üíï</span></h1>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-icon">üåÖ</div>
                    <div>
                        <strong>Every Morning:</strong> I wake up grateful that you're in my life. Your love is the sunshine that brightens my darkest days.
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-icon">üí≠</div>
                    <div>
                        <strong>Every Thought:</strong> No matter what I'm doing, you're always on my mind. You've become a part of my soul.
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-icon">üåô</div>
                    <div>
                        <strong>Every Night:</strong> I fall asleep counting my blessings, and you're always number one on that list.
                    </div>
                </div>
            </div>

            <div class="love-note">
                You are not just my girlfriend, you are my destiny. In a world of billions, somehow we found each other, and that's the most beautiful miracle I could ever ask for.
                <br><br>
                <em class="rotating-text">"Forever isn't long enough when I'm with you." üí´</em>
            </div>

            <button class="btn" onclick="nextPage(2)">Take Me to Our Memories üì∏</button>
        </div>
    </div>

    <!-- Page 2: Photo Gallery & Memories -->
    <div class="page" id="page2">
        <div class="content-box">
            <h2>Our Beautiful Journey Together <span class="sparkle">üì∑</span></h2>
            <p style="color: #8e4574; margin-bottom: 20px; font-size: 1.1em;">
                Here are the moments that made my heart skip a beat... (Click on each memory!)
            </p>

            <div class="photo-gallery">
                <div class="photo-placeholder" onclick="showMemory(1)">
                    <div style="text-align: center;">
                        <div style="font-size: 0.5em; color: rgba(255,255,255,0.9);">First Date</div>
                        üì∑
                    </div>
                </div>
                <div class="photo-placeholder" onclick="showMemory(2)">
                    <div style="text-align: center;">
                        <div style="font-size: 0.5em; color: rgba(255,255,255,0.9);">First Kiss</div>
                        üíã
                    </div>
                </div>
                <div class="photo-placeholder" onclick="showMemory(3)">
                    <div style="text-align: center;">
                        <div style="font-size: 0.5em; color: rgba(255,255,255,0.9);">Adventures</div>
                        üåç
                    </div>
                </div>
                <div class="photo-placeholder" onclick="showMemory(4)">
                    <div style="text-align: center;">
                        <div style="font-size: 0.5em; color: rgba(255,255,255,0.9);">Cuddles</div>
                        ü§ó
                    </div>
                </div>
            </div>

            <div id="memoryText" style="margin: 30px 0; font-size: 1.2em; color: #d63384; font-style: italic; min-height: 60px;">
                Click on our memories to relive those special moments together! üíï
            </div>

            <button class="btn" onclick="nextPage(3)">Let's Play Our Love Game üéÆ</button>
        </div>
    </div>

    <!-- Page 3: Enhanced Memory Game -->
    <div class="page" id="page3">
        <div class="content-box">
            <h2>Memory Game of Our Love <span class="sparkle">üéÆ</span></h2>
            <p style="color: #8e4574; margin-bottom: 20px;">
                Match all the symbols of our beautiful relationship! Each pair represents something special about us.
            </p>
            <div class="game-stats">
                <div>üíù Moves: <span id="moves">0</span> | üéØ Matches: <span id="matches">0</span>/8 | ‚è±Ô∏è Time: <span id="timer">00:00</span></div>
            </div>
            <div class="memory-grid" id="gameGrid">
                <!-- Game cards will be generated here -->
            </div>
            <button class="btn" onclick="resetGame()" style="margin-right: 10px;">Reset Game üîÑ</button>
            <button class="btn" id="gameNextBtn" onclick="nextPage(4)" style="display: none;">Continue to Something Magical ‚ú®</button>
        </div>
    </div>

    <!-- Page 4: The Big Question -->
    <div class="page" id="page4">
        <div class="content-box">
            <h1 class="rotating-text">My Soulmate Jaanu <span class="sparkle">üíç</span></h1>

            <div class="love-note">
                After sharing all these memories, after all the laughter and tears, after building this beautiful love story together...
                <br><br>
                I realize that every day with you has been preparing me for this moment. You are my best friend, my greatest love, my perfect match.
                <br><br>
                I want to wake up next to you for the rest of my life. I want to grow old with you, create more memories, and love you through every season of life.
                <br><br>
                So here I am, with all my heart, asking you...
            </div>

            <h2 style="color: #d63384; margin: 40px 0; font-size: 3em; animation: glow 2s ease-in-out infinite alternate;">
                Will You Marry Me? <span class="sparkle">üíï</span>
            </h2>

            <div class="proposal-buttons">
                <button class="btn" onclick="sayYes()" style="font-size: 1.4em; padding: 20px 50px;">
                    YES! I'LL MARRY YOU! üíñ
                </button>
                <button class="btn no-btn" id="noBtn" onclick="moveNoButton()" style="font-size: 1.1em;">
                    No... üò¢
                </button>
            </div>

            <p style="color: #8e4574; font-style: italic; margin-top: 20px;">
                üí° Fun fact: The "No" button is powered by anti-gravity technology! üòÑ
            </p>
        </div>
    </div>

    <!-- Celebration Page -->
    <div class="page" id="celebration">
        <div class="content-box">
            <h1 style="font-size: 4em;">SHE SAID YES! <span class="sparkle">üéä</span></h1>
            <div class="love-note" style="font-size: 1.4em;">
                <strong style="color: #d63384; font-size: 1.3em;">
                    I AM THE LUCKIEST PERSON IN THE UNIVERSE!
                </strong>
                <br><br>
                Jaanu, you just made all my dreams come true! I promise to love you more each day, to be your partner in everything, and to make you laugh until we're both old and gray.
                <br><br>
                Welcome to our forever! Here's to a lifetime of adventures, cuddles, inside jokes, and endless love.
                <br><br>
                <em style="font-size: 1.2em; color: #e91e63;">Mrs. Jaanu has a nice ring to it, don't you think? üòâüíç</em>
            </div>
            <div style="margin: 40px 0; font-size: 4em; animation: bounce 1s infinite;">
                üë∞‚Äç‚ôÄÔ∏è üíï ü§µ‚Äç‚ôÇÔ∏è üíï üë∂ üíï üè† üíï ‚ôæÔ∏è
            </div>
            <button class="btn" onclick="restartJourney()">Relive Our Love Story üîÑ</button>
        </div>
    </div>

    <div class="celebration" id="celebrationEffects"></div>

    <script>
        // Enhanced initialization
        let gameStartTime = 0;
        let gameTimer = null;
        let currentNoPosition = { x: 0, y: 0 };
        let noButtonMoves = 0;

        // Loading screen
        window.addEventListener('load', function() {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                    startFloatingElements();
                }, 1000);
            }, 3000);
        });

        // Enhanced floating elements
        function startFloatingElements() {
            const container = document.getElementById('floatingElements');
            const elements = ['üíï', 'üíñ', 'üíó', 'üíù', 'üåπ', 'üíê', 'üíç', 'üë∞', 'üéµ', '‚≠ê', '‚ú®', 'ü¶ã', 'üå∏'];

            setInterval(() => {
                const element = document.createElement('div');
                element.className = 'float-item';
                element.innerHTML = elements[Math.floor(Math.random() * elements.length)];
                element.style.left = Math.random() * 100 + '%';
                element.style.fontSize = (Math.random() * 20 + 15) + 'px';
                element.style.animationDelay = '0s';
                element.style.animationDuration = (Math.random() * 4 + 6) + 's';
                container.appendChild(element);

                setTimeout(() => {
                    element.remove();
                }, 8000);
            }, 800);
        }

        // Page navigation with enhanced effects
        function nextPage(pageNumber) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            setTimeout(() => {
                document.getElementById(`page${pageNumber}`).classList.add('active');
                if (pageNumber === 3) {
                    initGame();
                }
            }, 300);
        }

        // Memory functionality
        const memories = {
            1: "Our first date... I was so nervous but you made me feel at ease instantly. That's when I knew you were special. üí´",
            2: "Our first kiss... Time stopped, the world disappeared, and I knew I was home. üíã",
            3: "All our adventures together... Every trip, every new place becomes magical when I'm with you. üåü",
            4: "Our cozy cuddles... In your arms, I've found my safe haven and my greatest happiness. ü•∞"
        };

        function showMemory(memoryId) {
            const memoryText = document.getElementById('memoryText');
            memoryText.innerHTML = memories[memoryId];
            memoryText.style.animation = 'glow 1s ease-in-out';
            setTimeout(() => {
                memoryText.style.animation = '';
            }, 1000);
        }

        // Enhanced Memory Game
        const gameSymbols = ['üíï', 'üíñ', 'üíó', 'üíù', 'üåπ', 'üíê', 'üíç', 'üë∞'];
        let gameCards = [...gameSymbols, ...gameSymbols];
        let flippedCards = [];
        let matchedPairs = 0;
        let moves = 0;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function initGame() {
            const grid = document.getElementById('gameGrid');
            gameCards = shuffleArray([...gameSymbols, ...gameSymbols]);
            grid.innerHTML = '';
            flippedCards = [];
            matchedPairs = 0;
            moves = 0;
            gameStartTime = Date.now();

            if (gameTimer) clearInterval(gameTimer);
            gameTimer = setInterval(updateTimer, 1000);

            gameCards.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.symbol = symbol;
                card.dataset.index = index;
                card.innerHTML = 'üíù';
                card.addEventListener('click', flipCard);
                grid.appendChild(card);
            });

            document.getElementById('moves').textContent = '0';
            document.getElementById('matches').textContent = '0';
            document.getElementById('timer').textContent = '00:00';
            document.getElementById('gameNextBtn').style.display = 'none';
        }

        function updateTimer() {
            const elapsed = Math.floor((Date.now() - gameStartTime) / 1000);
            const minutes = Math.floor(elapsed / 60).toString().padStart(2, '0');
            const seconds = (elapsed % 60).toString().padStart(2, '0');
            document.getElementById('timer').textContent = `${minutes}:${seconds}`;
        }

        function flipCard(e) {
            const card = e.target;
            if (card.classList.contains('flipped') || card.classList.contains('matched') || flippedCards.length >= 2) {
                return;
            }

            card.classList.add('flipped');
            card.innerHTML = card.dataset.symbol;
            flippedCards.push(card);

            if (flippedCards.length === 2) {
                moves++;
                document.getElementById('moves').textContent = moves;

                setTimeout(() => {
                    checkMatch();
                }, 1000);
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;

            if (card1.dataset.symbol === card2.dataset.symbol) {
                card1.classList.add('matched');
                card2.classList.add('matched');
                matchedPairs++;
                document.getElementById('matches').textContent = matchedPairs;

                if (matchedPairs === 8) {
                    clearInterval(gameTimer);
                    setTimeout(() => {
                        createFireworks();
                        alert('üéâ Congratulations! You completed our love game! üéâ');
                        document.getElementById('gameNextBtn').style.display = 'inline-block';
                    }, 500);
                }
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                card1.innerHTML = 'üíù';
                card2.innerHTML = 'üíù';
            }

            flippedCards = [];
        }

        function resetGame() {
            clearInterval(gameTimer);
            initGame();
        }

        // Enhanced proposal functionality
        function moveNoButton() {
            const noBtn = document.getElementById('noBtn');
            noButtonMoves++;

            // Make it progressively harder to click
            const maxX = window.innerWidth - 200;
            const maxY = window.innerHeight - 100;

            let x = Math.random() * maxX;
            let y = Math.random() * maxY;

            // Ensure it's far from current position
            while (Math.abs(x - currentNoPosition.x) < 200 && Math.abs(y - currentNoPosition.y) < 200) {
                x = Math.random() * maxX;
                y = Math.random() * maxY;
            }

            currentNoPosition = { x, y };

            noBtn.style.position = 'fixed';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
            noBtn.style.transform = `scale(${1 - noButtonMoves * 0.05}) rotate(${noButtonMoves * 45}deg)`;

            // Change button text based on attempts
            const responses = [
                'No...', 'Are you sure?', 'Think again!', 'Really?', 'But I love you!',
                'Please? ü•∫', 'Pretty please?', 'One more chance?', 'I\'ll wait forever!', 'Catch me if you can! üòÑ'
            ];

            if (noButtonMoves < responses.length) {
                noBtn.innerHTML = responses[noButtonMoves - 1];
            }

            // Add some fun effects
            createHeartExplosion(x + 100, y + 25);

            // Make it even smaller and faster after 5 attempts
            if (noButtonMoves > 5) {
                noBtn.style.transition = 'all 0.1s ease';
                noBtn.style.fontSize = '0.8em';

                // Start moving on its own
                setTimeout(() => {
                    moveNoButtonAutomatically();
                }, 2000);
            }
        }

        function moveNoButtonAutomatically() {
            const noBtn = document.getElementById('noBtn');
            if (noBtn && noBtn.style.position === 'fixed') {
                const maxX = window.innerWidth - 150;
                const maxY = window.innerHeight - 80;

                noBtn.style.left = Math.random() * maxX + 'px';
                noBtn.style.top = Math.random() * maxY + 'px';
                noBtn.innerHTML = ['Nope! üòù', 'Still no! üèÉ‚Äç‚ôÇÔ∏è', 'Gotta catch me! ü¶ã', 'I\'m free! üïäÔ∏è'][Math.floor(Math.random() * 4)];

                setTimeout(moveNoButtonAutomatically, 1500);
            }
        }

        function sayYes() {
            // Stop any automatic movement
            const noBtn = document.getElementById('noBtn');
            if (noBtn) {
                noBtn.style.display = 'none';
            }

            // Create massive celebration effects
            createMegaCelebration();

            // Show celebration page after effects
            setTimeout(() => {
                nextPage(5);
                document.getElementById('celebration').classList.add('active');
            }, 2000);
        }

        // Enhanced celebration effects
        function createHeartExplosion(x, y) {
            const hearts = ['üíï', 'üíñ', 'üíó', 'üíù', 'üåπ'];
            for (let i = 0; i < 8; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.position = 'fixed';
                heart.style.left = x + 'px';
                heart.style.top = y + 'px';
                heart.style.fontSize = '20px';
                heart.style.pointerEvents = 'none';
                heart.style.zIndex = '9999';

                const angle = (360 / 8) * i;
                const distance = 100;
                const endX = x + Math.cos(angle * Math.PI / 180) * distance;
                const endY = y + Math.sin(angle * Math.PI / 180) * distance;

                heart.style.transition = 'all 1s ease-out';
                document.body.appendChild(heart);

                setTimeout(() => {
                    heart.style.left = endX + 'px';
                    heart.style.top = endY + 'px';
                    heart.style.opacity = '0';
                    heart.style.transform = 'scale(2)';
                }, 50);

                setTimeout(() => {
                    heart.remove();
                }, 1000);
            }
        }

        function createFireworks() {
            const colors = ['#ff69b4', '#ff1493', '#e91e63', '#ffd700', '#00ff7f', '#1e90ff'];

            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * (window.innerHeight / 2);

                    for (let j = 0; j < 20; j++) {
                        const firework = document.createElement('div');
                        firework.className = 'firework';
                        firework.style.left = x + 'px';
                        firework.style.top = y + 'px';
                        firework.style.background = colors[Math.floor(Math.random() * colors.length)];

                        const angle = (360 / 20) * j;
                        const velocity = Math.random() * 100 + 50;

                        firework.style.setProperty('--dx', Math.cos(angle * Math.PI / 180) * velocity + 'px');
                        firework.style.setProperty('--dy', Math.sin(angle * Math.PI / 180) * velocity + 'px');

                        document.getElementById('celebrationEffects').appendChild(firework);

                        setTimeout(() => {
                            firework.remove();
                        }, 1000);
                    }
                }, i * 300);
            }
        }

        function createMegaCelebration() {
            // Create multiple types of celebration effects
            createFireworks();

            // Confetti rain
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    const symbols = ['üéä', 'üéâ', 'üíï', 'üíñ', 'üíç', 'üåπ', '‚≠ê', '‚ú®', 'ü¶ã', 'üíê'];
                    confetti.innerHTML = symbols[Math.floor(Math.random() * symbols.length)];
                    confetti.style.position = 'fixed';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-50px';
                    confetti.style.fontSize = (Math.random() * 20 + 15) + 'px';
                    confetti.style.pointerEvents = 'none';
                    confetti.style.zIndex = '9999';
                    confetti.style.animation = `floatUp ${Math.random() * 3 + 3}s ease-out forwards`;

                    document.body.appendChild(confetti);

                    setTimeout(() => {
                        confetti.remove();
                    }, 6000);
                }, i * 50);
            }

            // Screen flash effect
            const flash = document.createElement('div');
            flash.style.position = 'fixed';
            flash.style.top = '0';
            flash.style.left = '0';
            flash.style.width = '100%';
            flash.style.height = '100%';
            flash.style.background = 'rgba(255, 215, 0, 0.5)';
            flash.style.pointerEvents = 'none';
            flash.style.zIndex = '9998';
            flash.style.animation = 'flash 0.5s ease-out';
            document.body.appendChild(flash);

            setTimeout(() => {
                flash.remove();
            }, 500);
        }

        function restartJourney() {
            // Reset everything
            noButtonMoves = 0;
            currentNoPosition = { x: 0, y: 0 };
            matchedPairs = 0;
            moves = 0;

            const noBtn = document.getElementById('noBtn');
            noBtn.style.position = 'relative';
            noBtn.style.left = 'auto';
            noBtn.style.top = 'auto';
            noBtn.style.transform = 'none';
            noBtn.style.transition = 'all 0.4s ease';
            noBtn.style.fontSize = '1.1em';
            noBtn.innerHTML = 'No... üò¢';
            noBtn.style.display = 'inline-block';

            // Go back to first page
            nextPage(1);
        }

        // Add some dynamic CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes flash {
                0%, 100% { opacity: 0; }
                50% { opacity: 1; }
            }

            .firework {
                transform: translate(var(--dx, 0), var(--dy, 0));
            }
        `;
        document.head.appendChild(style);

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Add some initial sparkle effects
            setInterval(() => {
                if (Math.random() > 0.7) {
                    const sparkle = document.createElement('div');
                    sparkle.innerHTML = '‚ú®';
                    sparkle.style.position = 'fixed';
                    sparkle.style.left = Math.random() * 100 + '%';
                    sparkle.style.top = Math.random() * 100 + '%';
                    sparkle.style.fontSize = '20px';
                    sparkle.style.pointerEvents = 'none';
                    sparkle.style.zIndex = '1';
                    sparkle.style.animation = 'sparkleRotate 2s ease-out forwards';
                    document.body.appendChild(sparkle);

                    setTimeout(() => {
                        sparkle.remove();
                    }, 2000);
                }
            }, 3000);
        });
    </script>
</body>
</html>
